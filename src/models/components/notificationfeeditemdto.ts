/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  ActorFeedItemDto,
  ActorFeedItemDto$inboundSchema,
  ActorFeedItemDto$Outbound,
  ActorFeedItemDto$outboundSchema,
} from "./actorfeeditemdto.js";
import {
  ChannelTypeEnum,
  ChannelTypeEnum$inboundSchema,
  ChannelTypeEnum$outboundSchema,
} from "./channeltypeenum.js";
import {
  MessageCTA,
  MessageCTA$inboundSchema,
  MessageCTA$Outbound,
  MessageCTA$outboundSchema,
} from "./messagecta.js";
import {
  SubscriberFeedResponseDto,
  SubscriberFeedResponseDto$inboundSchema,
  SubscriberFeedResponseDto$Outbound,
  SubscriberFeedResponseDto$outboundSchema,
} from "./subscriberfeedresponsedto.js";

/**
 * Identifier for the template used, if applicable.
 */
export type TemplateIdentifier = {};

/**
 * Identifier for the provider that sends the notification.
 */
export type NotificationFeedItemDtoProviderId = {};

/**
 * The subject line for email notifications, if applicable.
 */
export type Subject = {};

/**
 * Current status of the notification.
 */
export const NotificationFeedItemDtoStatus = {
  Sent: "sent",
  Error: "error",
  Warning: "warning",
} as const;
/**
 * Current status of the notification.
 */
export type NotificationFeedItemDtoStatus = ClosedEnum<
  typeof NotificationFeedItemDtoStatus
>;

export type NotificationFeedItemDto = {
  /**
   * Unique identifier for the notification.
   */
  id: string;
  /**
   * Identifier for the template used to generate the notification.
   */
  templateId: string;
  /**
   * Identifier for the environment where the notification is sent.
   */
  environmentId: string;
  /**
   * Identifier for the message template used.
   */
  messageTemplateId: string;
  /**
   * Identifier for the organization sending the notification.
   */
  organizationId: string;
  /**
   * Unique identifier for the notification instance.
   */
  notificationId: string;
  /**
   * Unique identifier for the subscriber receiving the notification.
   */
  subscriberId: string;
  /**
   * Identifier for the feed associated with the notification.
   */
  feedId: string;
  /**
   * Identifier for the job that triggered the notification.
   */
  jobId: string;
  /**
   * Timestamp indicating when the notification was created.
   */
  createdAt?: Date | null | undefined;
  /**
   * Timestamp indicating when the notification was last updated.
   */
  updatedAt?: Date | null | undefined;
  /**
   * Actor details related to the notification, if applicable.
   */
  actor?: ActorFeedItemDto | undefined;
  /**
   * Subscriber details associated with this notification.
   */
  subscriber?: SubscriberFeedResponseDto | undefined;
  /**
   * Unique identifier for the transaction associated with the notification.
   */
  transactionId: string;
  /**
   * Identifier for the template used, if applicable.
   */
  templateIdentifier?: TemplateIdentifier | null | undefined;
  /**
   * Identifier for the provider that sends the notification.
   */
  providerId?: NotificationFeedItemDtoProviderId | null | undefined;
  /**
   * The main content of the notification.
   */
  content: string;
  /**
   * The subject line for email notifications, if applicable.
   */
  subject?: Subject | null | undefined;
  /**
   * The channel through which the notification is sent.
   */
  channel: ChannelTypeEnum;
  /**
   * Indicates whether the notification has been read by the subscriber.
   */
  read: boolean;
  /**
   * Indicates whether the notification has been seen by the subscriber.
   */
  seen: boolean;
  /**
   * Indicates whether the notification has been deleted.
   */
  deleted: boolean;
  /**
   * Device tokens for push notifications, if applicable.
   */
  deviceTokens?: Array<string> | null | undefined;
  /**
   * Call-to-action information associated with the notification.
   */
  cta: MessageCTA;
  /**
   * Current status of the notification.
   */
  status: NotificationFeedItemDtoStatus;
  /**
   * The payload that was used to send the notification trigger.
   */
  payload?: { [k: string]: any } | undefined;
  /**
   * Provider-specific overrides used when triggering the notification.
   */
  overrides?: { [k: string]: any } | undefined;
};

/** @internal */
export const TemplateIdentifier$inboundSchema: z.ZodType<
  TemplateIdentifier,
  z.ZodTypeDef,
  unknown
> = z.object({});

/** @internal */
export type TemplateIdentifier$Outbound = {};

/** @internal */
export const TemplateIdentifier$outboundSchema: z.ZodType<
  TemplateIdentifier$Outbound,
  z.ZodTypeDef,
  TemplateIdentifier
> = z.object({});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace TemplateIdentifier$ {
  /** @deprecated use `TemplateIdentifier$inboundSchema` instead. */
  export const inboundSchema = TemplateIdentifier$inboundSchema;
  /** @deprecated use `TemplateIdentifier$outboundSchema` instead. */
  export const outboundSchema = TemplateIdentifier$outboundSchema;
  /** @deprecated use `TemplateIdentifier$Outbound` instead. */
  export type Outbound = TemplateIdentifier$Outbound;
}

export function templateIdentifierToJSON(
  templateIdentifier: TemplateIdentifier,
): string {
  return JSON.stringify(
    TemplateIdentifier$outboundSchema.parse(templateIdentifier),
  );
}

export function templateIdentifierFromJSON(
  jsonString: string,
): SafeParseResult<TemplateIdentifier, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => TemplateIdentifier$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'TemplateIdentifier' from JSON`,
  );
}

/** @internal */
export const NotificationFeedItemDtoProviderId$inboundSchema: z.ZodType<
  NotificationFeedItemDtoProviderId,
  z.ZodTypeDef,
  unknown
> = z.object({});

/** @internal */
export type NotificationFeedItemDtoProviderId$Outbound = {};

/** @internal */
export const NotificationFeedItemDtoProviderId$outboundSchema: z.ZodType<
  NotificationFeedItemDtoProviderId$Outbound,
  z.ZodTypeDef,
  NotificationFeedItemDtoProviderId
> = z.object({});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace NotificationFeedItemDtoProviderId$ {
  /** @deprecated use `NotificationFeedItemDtoProviderId$inboundSchema` instead. */
  export const inboundSchema = NotificationFeedItemDtoProviderId$inboundSchema;
  /** @deprecated use `NotificationFeedItemDtoProviderId$outboundSchema` instead. */
  export const outboundSchema =
    NotificationFeedItemDtoProviderId$outboundSchema;
  /** @deprecated use `NotificationFeedItemDtoProviderId$Outbound` instead. */
  export type Outbound = NotificationFeedItemDtoProviderId$Outbound;
}

export function notificationFeedItemDtoProviderIdToJSON(
  notificationFeedItemDtoProviderId: NotificationFeedItemDtoProviderId,
): string {
  return JSON.stringify(
    NotificationFeedItemDtoProviderId$outboundSchema.parse(
      notificationFeedItemDtoProviderId,
    ),
  );
}

export function notificationFeedItemDtoProviderIdFromJSON(
  jsonString: string,
): SafeParseResult<NotificationFeedItemDtoProviderId, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => NotificationFeedItemDtoProviderId$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'NotificationFeedItemDtoProviderId' from JSON`,
  );
}

/** @internal */
export const Subject$inboundSchema: z.ZodType<Subject, z.ZodTypeDef, unknown> =
  z.object({});

/** @internal */
export type Subject$Outbound = {};

/** @internal */
export const Subject$outboundSchema: z.ZodType<
  Subject$Outbound,
  z.ZodTypeDef,
  Subject
> = z.object({});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace Subject$ {
  /** @deprecated use `Subject$inboundSchema` instead. */
  export const inboundSchema = Subject$inboundSchema;
  /** @deprecated use `Subject$outboundSchema` instead. */
  export const outboundSchema = Subject$outboundSchema;
  /** @deprecated use `Subject$Outbound` instead. */
  export type Outbound = Subject$Outbound;
}

export function subjectToJSON(subject: Subject): string {
  return JSON.stringify(Subject$outboundSchema.parse(subject));
}

export function subjectFromJSON(
  jsonString: string,
): SafeParseResult<Subject, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Subject$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Subject' from JSON`,
  );
}

/** @internal */
export const NotificationFeedItemDtoStatus$inboundSchema: z.ZodNativeEnum<
  typeof NotificationFeedItemDtoStatus
> = z.nativeEnum(NotificationFeedItemDtoStatus);

/** @internal */
export const NotificationFeedItemDtoStatus$outboundSchema: z.ZodNativeEnum<
  typeof NotificationFeedItemDtoStatus
> = NotificationFeedItemDtoStatus$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace NotificationFeedItemDtoStatus$ {
  /** @deprecated use `NotificationFeedItemDtoStatus$inboundSchema` instead. */
  export const inboundSchema = NotificationFeedItemDtoStatus$inboundSchema;
  /** @deprecated use `NotificationFeedItemDtoStatus$outboundSchema` instead. */
  export const outboundSchema = NotificationFeedItemDtoStatus$outboundSchema;
}

/** @internal */
export const NotificationFeedItemDto$inboundSchema: z.ZodType<
  NotificationFeedItemDto,
  z.ZodTypeDef,
  unknown
> = z.object({
  _id: z.string(),
  _templateId: z.string(),
  _environmentId: z.string(),
  _messageTemplateId: z.string(),
  _organizationId: z.string(),
  _notificationId: z.string(),
  _subscriberId: z.string(),
  _feedId: z.string(),
  _jobId: z.string(),
  createdAt: z.nullable(
    z.string().datetime({ offset: true }).transform(v => new Date(v)),
  ).optional(),
  updatedAt: z.nullable(
    z.string().datetime({ offset: true }).transform(v => new Date(v)),
  ).optional(),
  actor: ActorFeedItemDto$inboundSchema.optional(),
  subscriber: SubscriberFeedResponseDto$inboundSchema.optional(),
  transactionId: z.string(),
  templateIdentifier: z.nullable(z.lazy(() => TemplateIdentifier$inboundSchema))
    .optional(),
  providerId: z.nullable(
    z.lazy(() => NotificationFeedItemDtoProviderId$inboundSchema),
  ).optional(),
  content: z.string(),
  subject: z.nullable(z.lazy(() => Subject$inboundSchema)).optional(),
  channel: ChannelTypeEnum$inboundSchema,
  read: z.boolean(),
  seen: z.boolean(),
  deleted: z.boolean(),
  deviceTokens: z.nullable(z.array(z.string())).optional(),
  cta: MessageCTA$inboundSchema,
  status: NotificationFeedItemDtoStatus$inboundSchema,
  payload: z.record(z.any()).optional(),
  overrides: z.record(z.any()).optional(),
}).transform((v) => {
  return remap$(v, {
    "_id": "id",
    "_templateId": "templateId",
    "_environmentId": "environmentId",
    "_messageTemplateId": "messageTemplateId",
    "_organizationId": "organizationId",
    "_notificationId": "notificationId",
    "_subscriberId": "subscriberId",
    "_feedId": "feedId",
    "_jobId": "jobId",
  });
});

/** @internal */
export type NotificationFeedItemDto$Outbound = {
  _id: string;
  _templateId: string;
  _environmentId: string;
  _messageTemplateId: string;
  _organizationId: string;
  _notificationId: string;
  _subscriberId: string;
  _feedId: string;
  _jobId: string;
  createdAt?: string | null | undefined;
  updatedAt?: string | null | undefined;
  actor?: ActorFeedItemDto$Outbound | undefined;
  subscriber?: SubscriberFeedResponseDto$Outbound | undefined;
  transactionId: string;
  templateIdentifier?: TemplateIdentifier$Outbound | null | undefined;
  providerId?: NotificationFeedItemDtoProviderId$Outbound | null | undefined;
  content: string;
  subject?: Subject$Outbound | null | undefined;
  channel: string;
  read: boolean;
  seen: boolean;
  deleted: boolean;
  deviceTokens?: Array<string> | null | undefined;
  cta: MessageCTA$Outbound;
  status: string;
  payload?: { [k: string]: any } | undefined;
  overrides?: { [k: string]: any } | undefined;
};

/** @internal */
export const NotificationFeedItemDto$outboundSchema: z.ZodType<
  NotificationFeedItemDto$Outbound,
  z.ZodTypeDef,
  NotificationFeedItemDto
> = z.object({
  id: z.string(),
  templateId: z.string(),
  environmentId: z.string(),
  messageTemplateId: z.string(),
  organizationId: z.string(),
  notificationId: z.string(),
  subscriberId: z.string(),
  feedId: z.string(),
  jobId: z.string(),
  createdAt: z.nullable(z.date().transform(v => v.toISOString())).optional(),
  updatedAt: z.nullable(z.date().transform(v => v.toISOString())).optional(),
  actor: ActorFeedItemDto$outboundSchema.optional(),
  subscriber: SubscriberFeedResponseDto$outboundSchema.optional(),
  transactionId: z.string(),
  templateIdentifier: z.nullable(
    z.lazy(() => TemplateIdentifier$outboundSchema),
  ).optional(),
  providerId: z.nullable(
    z.lazy(() => NotificationFeedItemDtoProviderId$outboundSchema),
  ).optional(),
  content: z.string(),
  subject: z.nullable(z.lazy(() => Subject$outboundSchema)).optional(),
  channel: ChannelTypeEnum$outboundSchema,
  read: z.boolean(),
  seen: z.boolean(),
  deleted: z.boolean(),
  deviceTokens: z.nullable(z.array(z.string())).optional(),
  cta: MessageCTA$outboundSchema,
  status: NotificationFeedItemDtoStatus$outboundSchema,
  payload: z.record(z.any()).optional(),
  overrides: z.record(z.any()).optional(),
}).transform((v) => {
  return remap$(v, {
    id: "_id",
    templateId: "_templateId",
    environmentId: "_environmentId",
    messageTemplateId: "_messageTemplateId",
    organizationId: "_organizationId",
    notificationId: "_notificationId",
    subscriberId: "_subscriberId",
    feedId: "_feedId",
    jobId: "_jobId",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace NotificationFeedItemDto$ {
  /** @deprecated use `NotificationFeedItemDto$inboundSchema` instead. */
  export const inboundSchema = NotificationFeedItemDto$inboundSchema;
  /** @deprecated use `NotificationFeedItemDto$outboundSchema` instead. */
  export const outboundSchema = NotificationFeedItemDto$outboundSchema;
  /** @deprecated use `NotificationFeedItemDto$Outbound` instead. */
  export type Outbound = NotificationFeedItemDto$Outbound;
}

export function notificationFeedItemDtoToJSON(
  notificationFeedItemDto: NotificationFeedItemDto,
): string {
  return JSON.stringify(
    NotificationFeedItemDto$outboundSchema.parse(notificationFeedItemDto),
  );
}

export function notificationFeedItemDtoFromJSON(
  jsonString: string,
): SafeParseResult<NotificationFeedItemDto, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => NotificationFeedItemDto$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'NotificationFeedItemDto' from JSON`,
  );
}
