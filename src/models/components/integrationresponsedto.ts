/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  CredentialsDto,
  CredentialsDto$inboundSchema,
  CredentialsDto$Outbound,
  CredentialsDto$outboundSchema,
} from "./credentialsdto.js";
import {
  StepFilter,
  StepFilter$inboundSchema,
  StepFilter$Outbound,
  StepFilter$outboundSchema,
} from "./stepfilter.js";

export const IntegrationResponseDtoChannel = {
  InApp: "in_app",
  Email: "email",
  Sms: "sms",
  Chat: "chat",
  Push: "push",
} as const;
export type IntegrationResponseDtoChannel = ClosedEnum<
  typeof IntegrationResponseDtoChannel
>;

export type IntegrationResponseDto = {
  id?: string | undefined;
  environmentId: string;
  organizationId: string;
  name: string;
  identifier: string;
  providerId: string;
  channel: IntegrationResponseDtoChannel;
  credentials: CredentialsDto;
  active: boolean;
  deleted: boolean;
  deletedAt: string;
  deletedBy: string;
  primary: boolean;
  conditions?: Array<StepFilter> | undefined;
};

/** @internal */
export const IntegrationResponseDtoChannel$inboundSchema: z.ZodNativeEnum<
  typeof IntegrationResponseDtoChannel
> = z.nativeEnum(IntegrationResponseDtoChannel);

/** @internal */
export const IntegrationResponseDtoChannel$outboundSchema: z.ZodNativeEnum<
  typeof IntegrationResponseDtoChannel
> = IntegrationResponseDtoChannel$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace IntegrationResponseDtoChannel$ {
  /** @deprecated use `IntegrationResponseDtoChannel$inboundSchema` instead. */
  export const inboundSchema = IntegrationResponseDtoChannel$inboundSchema;
  /** @deprecated use `IntegrationResponseDtoChannel$outboundSchema` instead. */
  export const outboundSchema = IntegrationResponseDtoChannel$outboundSchema;
}

/** @internal */
export const IntegrationResponseDto$inboundSchema: z.ZodType<
  IntegrationResponseDto,
  z.ZodTypeDef,
  unknown
> = z.object({
  _id: z.string().optional(),
  _environmentId: z.string(),
  _organizationId: z.string(),
  name: z.string(),
  identifier: z.string(),
  providerId: z.string(),
  channel: IntegrationResponseDtoChannel$inboundSchema,
  credentials: CredentialsDto$inboundSchema,
  active: z.boolean(),
  deleted: z.boolean(),
  deletedAt: z.string(),
  deletedBy: z.string(),
  primary: z.boolean(),
  conditions: z.array(StepFilter$inboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    "_id": "id",
    "_environmentId": "environmentId",
    "_organizationId": "organizationId",
  });
});

/** @internal */
export type IntegrationResponseDto$Outbound = {
  _id?: string | undefined;
  _environmentId: string;
  _organizationId: string;
  name: string;
  identifier: string;
  providerId: string;
  channel: string;
  credentials: CredentialsDto$Outbound;
  active: boolean;
  deleted: boolean;
  deletedAt: string;
  deletedBy: string;
  primary: boolean;
  conditions?: Array<StepFilter$Outbound> | undefined;
};

/** @internal */
export const IntegrationResponseDto$outboundSchema: z.ZodType<
  IntegrationResponseDto$Outbound,
  z.ZodTypeDef,
  IntegrationResponseDto
> = z.object({
  id: z.string().optional(),
  environmentId: z.string(),
  organizationId: z.string(),
  name: z.string(),
  identifier: z.string(),
  providerId: z.string(),
  channel: IntegrationResponseDtoChannel$outboundSchema,
  credentials: CredentialsDto$outboundSchema,
  active: z.boolean(),
  deleted: z.boolean(),
  deletedAt: z.string(),
  deletedBy: z.string(),
  primary: z.boolean(),
  conditions: z.array(StepFilter$outboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    id: "_id",
    environmentId: "_environmentId",
    organizationId: "_organizationId",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace IntegrationResponseDto$ {
  /** @deprecated use `IntegrationResponseDto$inboundSchema` instead. */
  export const inboundSchema = IntegrationResponseDto$inboundSchema;
  /** @deprecated use `IntegrationResponseDto$outboundSchema` instead. */
  export const outboundSchema = IntegrationResponseDto$outboundSchema;
  /** @deprecated use `IntegrationResponseDto$Outbound` instead. */
  export type Outbound = IntegrationResponseDto$Outbound;
}

export function integrationResponseDtoToJSON(
  integrationResponseDto: IntegrationResponseDto,
): string {
  return JSON.stringify(
    IntegrationResponseDto$outboundSchema.parse(integrationResponseDto),
  );
}

export function integrationResponseDtoFromJSON(
  jsonString: string,
): SafeParseResult<IntegrationResponseDto, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => IntegrationResponseDto$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'IntegrationResponseDto' from JSON`,
  );
}
